import "./main.js"; let i = document.getElementById("closeEye"), d = document.getElementById("openEye"), y = document.getElementById("closeEye1"), g = document.getElementById("openEye1"), u = document.getElementById("LoginForm"), l = document.getElementById("SignUpForm"), p = document.getElementById("userPassword"), n = document.getElementById("SureUserPassword"); const s = (e, r, t, o) => { e === "open" ? (t.classList.add("d-none"), r.classList.remove("d-none"), o.type = "text") : (t.classList.remove("d-none"), r.classList.add("d-none"), o.type = "password") }, L = e => e.value === "" || e.value === null, a = (e, r) => { let t = document.createElement("p"); if (t.classList.add("errorMassageInput"), t.textContent = e, r.type === "password") { if (r.parentElement?.parentElement?.querySelector(".errorMassageInput")) return; const o = r.closest(".IsPassword"); o !== null && o?.insertAdjacentElement("afterend", t) } else { if (r.parentElement?.querySelector(".errorMassageInput")) return; r.insertAdjacentElement("afterend", t) } }, m = e => { if (e.type === "password") { const r = e.parentElement?.parentElement?.querySelector(".errorMassageInput"); r && r.remove() } else { const r = e.parentElement?.querySelector(".errorMassageInput"); r && r.remove() } }, c = (e, r) => r.test(e), E = e => { let r = L(e); e.type === "password" && (r ? (e.parentElement?.parentElement?.classList.add("errorForm"), a("يجب ادخال كلمة المرور", e)) : c(e.value, /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/) ? (e.parentElement?.parentElement?.classList.remove("errorForm"), m(e)) : (e.parentElement?.parentElement?.classList.add("errorForm"), a("يجب أن تتكون كلمة المرور من ثمانية أحرف على الأقل وتحتوي على حرف واحد كبير، حرف صغير، رقم، ورمز خاص.", e))), e.type === "email" && (!c(e.value, /^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/i) || r ? (e.parentElement?.classList.add("errorForm"), a("يرجى استخدام عنوان بريد إلكتروني صالح، مثل user@example.com", e)) : (e.parentElement?.classList.remove("errorForm"), m(e))), e.type === "text" && (r || !c(e.value, /^[\p{L}' -]{5,}$/u) ? (e.parentElement?.classList.add("errorForm"), a(" يرجي كتابة اسم صالح ", e)) : (e.parentElement?.classList.remove("errorForm"), m(e))), e.type === "number" && (r || !c(e.value, /^\d{10,}$/) ? (e.parentElement?.classList.add("errorForm"), a("يرجى إدخال رقم هاتف صالح     .", e)) : (e.parentElement?.classList.remove("errorForm"), m(e))) }, f = (e, r) => { e.querySelectorAll(r).forEach(o => { E(o) }) }, w = () => { p.value !== n.value ? (n.parentElement?.parentElement?.classList.add("errorForm"), a(" كلمة المرور غير متطابقة ", n)) : (n.parentElement?.classList.remove("errorForm"), m(n)) }, v = e => { window.location.href = e }; i?.addEventListener("click", () => s("open", d, i, p)); d?.addEventListener("click", () => s("close", d, i, p)); y?.addEventListener("click", () => s("open", g, y, n)); g?.addEventListener("click", () => s("close", g, y, n)); u?.addEventListener("submit", e => { e.preventDefault(), s("close", d, i, p), f(u, 'input[type="password"], input[type="email"]'), u.querySelectorAll(".errorForm").length === 0 && (v("index.html"), u.reset()) }); l?.addEventListener("submit", e => { e.preventDefault(), s("close", d, i, p), s("close", g, y, n), f(l, 'input[type="password"], input[type="email"], input[type="text"] , input[type="number"]'), w(), l.querySelectorAll(".errorForm").length === 0 && (v("Login.html"), l.reset()) });
